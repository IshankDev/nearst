(this["webpackJsonpnearst-admin"]=this["webpackJsonpnearst-admin"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports={ProductDetails:"PoductDetails_ProductDetails__24JJX",imageList:"PoductDetails_imageList__2oyM4",SoldBy:"PoductDetails_SoldBy__3OAF2",Bold:"PoductDetails_Bold__P_DRV",Filters:"PoductDetails_Filters__3DZ0a",Basic:"PoductDetails_Basic__2a9EU",Inventory:"PoductDetails_Inventory__3n8Vg",LeftAlign:"PoductDetails_LeftAlign__MxBQv",add:"PoductDetails_add__2yxOZ",buttonCont:"PoductDetails_buttonCont__2Wv-K",AttrValues:"PoductDetails_AttrValues__1Oy3Y",HideLabel:"PoductDetails_HideLabel__2kKRN"}},,,function(e,t,a){e.exports={PaymentDetails:"PaymentDetails_PaymentDetails__2YrWr",Info:"PaymentDetails_Info__ztnD_",InfoList:"PaymentDetails_InfoList__xWN_t",Red:"PaymentDetails_Red__h_40G",Today:"PaymentDetails_Today__2m_Y_",SubHead:"PaymentDetails_SubHead__Dwslp",PrevSub:"PaymentDetails_PrevSub__3L0kn",AllOrders:"PaymentDetails_AllOrders__2I1oS",Order:"PaymentDetails_Order__3qPdV",TotalToday:"PaymentDetails_TotalToday__3Uddl",PayList:"PaymentDetails_PayList__3YqFp",Pay:"PaymentDetails_Pay__2VZFa",NewPayment:"PaymentDetails_NewPayment__2iWoz",NewPay:"PaymentDetails_NewPay__12sCL"}},,,,,,,,,function(e,t,a){e.exports={SellerDetails:"SellerDetails_SellerDetails__2hYxU",imageList:"SellerDetails_imageList__3eCx3",SoldBy:"SellerDetails_SoldBy__1npRW",Bold:"SellerDetails_Bold__3ZMPC",Filters:"SellerDetails_Filters__jCeXR",Basic:"SellerDetails_Basic__s_H7g",Inventory:"SellerDetails_Inventory__3hpod",LeftAlign:"SellerDetails_LeftAlign__1opyR",add:"SellerDetails_add__xIs8Y",buttonCont:"SellerDetails_buttonCont__tCvW1",customer:"SellerDetails_customer__eSXEs"}},function(e,t,a){e.exports={logo:"Nav_logo__2AaPv",login:"Nav_login__mvU0m",active:"Nav_active__lYjhc",hamburger:"Nav_hamburger__29E7A","ham-active":"Nav_ham-active__3zpBF",line1:"Nav_line1__3xsV6",line2:"Nav_line2__MIeaN",line3:"Nav_line3__m3iTZ"}},function(e,t,a){e.exports={OrderDetails:"OrderDetails_OrderDetails__YRRX1",total:"OrderDetails_total__8mxu3",products:"OrderDetails_products__2r5g7",customer:"OrderDetails_customer__16WA2",buttons:"OrderDetails_buttons__6FSLw",cancel:"OrderDetails_cancel__3bh5n",Prod:"OrderDetails_Prod__1RJxM",SideButtons:"OrderDetails_SideButtons__2n2IC"}},,,function(e,t,a){e.exports={DropDown:"DropDown_DropDown__x2zo_",label:"DropDown_label__W_CdU"}},,,function(e,t,a){e.exports={ToolBar:"ToolBar_ToolBar__1eF54",head:"ToolBar_head__2cTl_",button:"ToolBar_button__pEQNY",dropdowns:"ToolBar_dropdowns__1GhtH"}},function(e,t,a){e.exports={Button:"ImageInput_Button__2oU6O",Input:"ImageInput_Input__1UF2Z",Img:"ImageInput_Img__E3Hnp"}},function(e,t,a){e.exports={CustomerDetails:"CustomerDetails_CustomerDetails__30cGN",total:"CustomerDetails_total__3CfEw",orderDetail:"CustomerDetails_orderDetail__1PvPz",products:"CustomerDetails_products__3K8yn",customer:"CustomerDetails_customer__1OT8b",buttons:"CustomerDetails_buttons__101Gk",cancel:"CustomerDetails_cancel__V0U6h"}},,function(e,t,a){e.exports={SmallImage:"SmallImage_SmallImage__8AVU2",Delete:"SmallImage_Delete__31sXz"}},,,,,function(e,t,a){e.exports={ListBar:"ListBar_ListBar__20Z8m",list:"ListBar_list__2A8YV"}},function(e,t,a){e.exports={Selling:"PriceList_Selling__2pTCL",Real:"PriceList_Real__s3SoM"}},function(e,t,a){e.exports={Modal:"InputForm_Modal__2jtBt",form:"InputForm_form__3bW1b"}},function(e,t,a){e.exports={ConformationForm:"ConformationForm_ConformationForm__3wg_O",buttonCont:"ConformationForm_buttonCont__3JXwl"}},function(e,t,a){e.exports={OrdersBar:"OrdersBar_OrdersBar__1_6pj",list:"OrdersBar_list__3pYfd"}},function(e,t,a){e.exports={OrderListElement:"OrderListElement_OrderListElement__2aPcT",head:"OrderListElement_head__16rWe"}},function(e,t,a){e.exports={Orders:"Orders_Orders__1S2qk",Button:"Orders_Button__35Wgn"}},function(e,t,a){e.exports={CustomerBar:"CustomerBar_CustomerBar__ZLBbN",list:"CustomerBar_list__2ZjmN"}},function(e,t,a){e.exports={SellerBar:"SellerBar_SellerBar__20rIF",list:"SellerBar_list__2Wa-q"}},function(e,t,a){e.exports={PaymentBar:"PaymentBar_PaymentBar__3992P",list:"PaymentBar_list__2lud5"}},function(e,t,a){e.exports={ExtraDiv:"ExtraDiv_ExtraDiv__2Zivb",List:"ExtraDiv_List__31kSV"}},,,,,,function(e,t,a){},,function(e,t,a){e.exports={Product:"Products_Product__2l0wC"}},function(e,t,a){e.exports={SearchBar:"SearchBar_SearchBar__3t_UI"}},function(e,t,a){e.exports={SubHead:"SubHead_SubHead__1CDcm"}},function(e,t,a){e.exports={ProductListElement:"ProductListElement_ProductListElement__2o06U"}},function(e,t,a){e.exports={Fixed:"FixedBar_Fixed__wmPjj"}},function(e,t,a){e.exports={InputTag:"InputTag_InputTag__34kHN"}},function(e,t,a){e.exports={OrderSubHead:"OrderSubHead_OrderSubHead__1NEV6"}},function(e,t,a){e.exports={OrderProductElement:"OrderProductElement_OrderProductElement__1m_6G"}},function(e,t,a){e.exports={Customer:"Customer_Customer__2NTwa"}},function(e,t,a){e.exports={SubHead:"CustomerSubHead_SubHead__3zuNf"}},function(e,t,a){e.exports={CustomerListElement:"CustomerListElement_CustomerListElement__N2PHa"}},function(e,t,a){e.exports={Seller:"Seller_Seller__2DykK"}},function(e,t,a){e.exports={SellerSubHead:"SellerSubHead_SellerSubHead__3Zw5w"}},function(e,t,a){e.exports={SellerListElement:"SellerElementList_SellerListElement__2NyWj"}},function(e,t,a){e.exports={Payment:"Payment_Payment__3iA23"}},function(e,t,a){e.exports={PaymentSubHead:"PaymentSubHead_PaymentSubHead__1DoaO"}},function(e,t,a){e.exports={PaymentListElement:"PaymentListElement_PaymentListElement__36rja"}},function(e,t,a){e.exports={Extras:"Extras_Extras__H2Fjf"}},,,,,,function(e,t,a){},,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(3),r=a.n(s),l=a(55),i=a.n(l),c=a(22),o=(a(81),a(10)),d=a(56),u=a.n(d),h=a(24),m=a.n(h),j=a.p+"static/media/logo.48fdad85.svg";var b=function(){return Object(n.jsxs)("nav",{children:[Object(n.jsx)("div",{className:m.a.logo,onClick:function(){window.location.href="https://nearst.store/"},children:Object(n.jsx)("img",{src:j,alt:""})}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsxs)(c.b,{to:"",exact:!0,activeClassName:m.a.active,children:[" Dashboard ",Object(n.jsx)("span",{})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(c.b,{to:"/orders",activeClassName:m.a.active,children:[" Orders ",Object(n.jsx)("span",{})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(c.b,{to:"/products",activeClassName:m.a.active,children:["  Products / Inventory ",Object(n.jsx)("span",{})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(c.b,{to:"/seller",activeClassName:m.a.active,children:["  Seller Details ",Object(n.jsx)("span",{})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(c.b,{to:"/customers",activeClassName:m.a.active,children:["  Customer details ",Object(n.jsx)("span",{})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(c.b,{to:"/payment",activeClassName:m.a.active,children:[" Payment Page ",Object(n.jsx)("span",{})]})}),Object(n.jsx)("li",{children:Object(n.jsxs)(c.b,{to:"/extras",activeClassName:m.a.active,children:[" Extras ",Object(n.jsx)("span",{})]})})]})}),Object(n.jsx)("li",{className:m.a.login,children:Object(n.jsxs)("div",{onClick:function(){localStorage.clear(),window.location.href="https://nearst.store/"},children:["Log Out",Object(n.jsx)("span",{})]})})]})]})},g=a(8),p=a(4),O=a(17),v=a(18),x=a(20),f=a(19),C=a(58),S=a.n(C),y=a(40),_=a.n(y),I=a(59),N=a.n(I);var H=function(e){return Object(n.jsx)("div",{className:N.a.SearchBar,children:Object(n.jsx)("input",{type:"text",value:e.searchString,onChange:function(t){return e.searchHandler(t)},name:"search",placeholder:e.placeholder})})},P=a(31),D=a.n(P),w=a(28),L=a.n(w);var k=function(e){var t={width:e.width?e.width:null,display:e.display?e.display:null,border:e.border?"1px solid black":null,margin:e.margin?e.margin:null};return e.values&&void 0!==e.value?Object(n.jsxs)("div",{className:L.a.DropDown,style:t,children:[Object(n.jsxs)("label",{htmlFor:e.name,children:[" ",e.name," "]}),Object(n.jsx)("div",{className:L.a.label,children:e.label}),Object(n.jsx)("select",{style:{width:e.full?"100%":null},onChange:function(t){e.dropChange(e.name,t.target.value)},value:0===e.value.length?"none":e.value[0],name:e.name,id:"cars",children:e.values.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.name},e.value)}))})]}):e.values?Object(n.jsxs)("div",{className:L.a.DropDown,style:t,children:[Object(n.jsxs)("label",{htmlFor:e.name,children:[" ",e.name," "]}),Object(n.jsx)("div",{className:L.a.label,children:e.label}),Object(n.jsx)("select",{onChange:function(t){e.dropChange(t.target.value)},name:e.name,id:"cars",style:{width:e.full?"100%":null},children:e.values.map((function(e){return Object(n.jsx)("option",{value:e.value?e.value:e,children:e.name?e.name:e},e.value?e.value:e)}))})]}):Object(n.jsxs)("div",{className:L.a.DropDown,children:[Object(n.jsxs)("label",{htmlFor:e.name,children:[" ",e.name," "]}),Object(n.jsx)("div",{className:L.a.label,children:e.label}),Object(n.jsxs)("select",{style:t,name:e.name,id:"cars",children:[Object(n.jsx)("option",{value:"none",children:"None"}),Object(n.jsx)("option",{value:"none",children:"None"}),Object(n.jsx)("option",{value:"none",children:"none"}),Object(n.jsx)("option",{value:"none",children:"none"})]})]})},A=function(e){return Object(n.jsxs)("div",{className:D.a.ToolBar,children:[Object(n.jsx)("div",{className:D.a.head,children:e.head}),Object(n.jsx)(H,{searchHandler:e.searchHandler,searchString:e.searchString,placeholder:e.placeholder}),"Products"===e.head||"Sellers"===e.head?Object(n.jsx)("button",{className:D.a.button,onClick:function(){e.newProductHandler()},children:Object(n.jsxs)("svg",{width:"11",height:"11",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("line",{x1:"13",x2:"13",y2:"25",stroke:"#085076"}),Object(n.jsx)("line",{y1:"12",x2:"25",y2:"12",stroke:"#085076"})]})}):null,Object(n.jsxs)("div",{className:D.a.dropdowns,children:[e.filters&&e.filters.includes("seller")?Object(n.jsx)(k,{values:e.merchantList,dropChange:e.sellerDropChange,border:!0,margin:"0",width:"60%",full:!0}):Object(n.jsx)("div",{children:"filter seller"}),e.filters&&e.filters.includes("category")?Object(n.jsx)(k,{values:e.categoryList,dropChange:e.categoryDropChange,border:!0,margin:"0",width:"60%",full:!0}):Object(n.jsx)("div",{children:"filter category"}),e.filters&&e.filters.includes("orderStatus")?Object(n.jsx)(k,{values:e.statusList,dropChange:e.statusDropChange,border:!0,margin:"0",width:"60%",full:!0}):null]})]})},B=a(60),E=a.n(B),F=function(){return Object(n.jsxs)("ul",{className:E.a.SubHead,children:[Object(n.jsx)("li",{children:"Image"}),Object(n.jsx)("li",{children:"SKU"}),Object(n.jsx)("li",{children:"Product name"}),Object(n.jsx)("li",{children:"Price"}),Object(n.jsx)("li",{children:"Attribute Set"}),Object(n.jsx)("li",{children:"Total Units"})]})},T=a(61),z=a.n(T),V=a(35),U=a.n(V),M=function(e){return Object(n.jsxs)("div",{className:U.a.SmallImage,onClick:e.imgUrl?null:function(){e.addImgHandler()},children:[e.imgDelete?Object(n.jsx)("div",{className:U.a.Delete,onClick:function(){e.imgDelete()},children:Object(n.jsx)("i",{className:"fas fa-trash"})}):null,e.imgReplace?Object(n.jsx)("div",{className:U.a.Delete,onClick:function(){e.imgReplace()},children:Object(n.jsx)("i",{className:"fas fa-pencil-alt"})}):null,e.imgUrl?Object(n.jsx)("img",{src:e.imgUrl,alt:""}):Object(n.jsxs)("svg",{width:"7",height:"7",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("line",{x1:"13",x2:"13",y2:"25",stroke:"#085076"}),Object(n.jsx)("line",{y1:"12",x2:"25",y2:"12",stroke:"#085076"})]})]})},R=a(41),Y=a.n(R),q=function(e){var t=[Object(n.jsxs)("span",{className:Y.a.Selling,children:[" \u20b9",e.sellprice," "]},0),Object(n.jsxs)("span",{className:Y.a.Real,children:[" \u20b9",e.offprice," "]},1)];return Object(n.jsx)(s.Fragment,{children:0!==e.discount?t:Object(n.jsxs)("span",{children:["\u20b9",e.sellprice]})})},W=function(e){var t={backgroundColor:e.active?"#EFF3F6":null};return Object(n.jsxs)("ul",{onClick:e.clicked,style:t,className:z.a.ProductListElement,children:[Object(n.jsxs)("li",{children:[Object(n.jsx)(M,{addImgHandler:function(){return null},imgUrl:e.img})," "]}),Object(n.jsx)("li",{children:e.sku}),Object(n.jsx)("li",{children:e.name}),Object(n.jsx)("li",{children:Object(n.jsx)(q,{offprice:e.offprice,discount:e.discount,sellprice:e.sellprice})}),Object(n.jsx)("li",{children:e.attributeSet.name}),Object(n.jsx)("li",{children:void 0===e.units?null:Object.keys(e.units).map((function(t){return Object(n.jsxs)("div",{children:[t," - ",e.units[t].unit]},t)}))})]})};var Z=function(e){return Object(n.jsxs)("div",{className:_.a.ListBar,children:[Object(n.jsx)(A,{head:"Products",newProductHandler:e.newProductHandler,searchHandler:e.searchHandler,searchString:e.searchString,sellerDropChange:e.sellerFilterChangeHandler,categoryDropChange:e.categoryFilterChangeHandler,filters:e.filters.join(),categoryList:e.allSubSubCat,merchantList:e.merchantList,placeholder:"Search SKU/Barcode"}),Object(n.jsx)(F,{}),Object(n.jsx)("div",{className:_.a.list,children:e.list.map((function(t,a){var s=t.merchantIds?[].concat(Object(g.a)(t.merchantIds),[""]):t.merchantIds,r=s||t.merchantId;return r=null===r?"":r,(t.barcode.includes(e.searchString)||t.productName.toLowerCase().includes(e.searchString.toLowerCase()))&&r.includes(e.filterSellerValue)&&t.subSubCategory.includes(e.filterCategoryValue)?Object(n.jsx)(W,{img:t.productImage[0],clicked:function(){return e.productChangeHandler(a)},attributeSet:e.attributeSets[t.attributeSet],units:e.units[t.productId],sku:t.barcode,name:t.productName,offprice:t.offerPrice,sellprice:t.sellingPrice,discount:t.discount,cat:t.categories,active:a===e.activeProduct},a):null}))})]})},X=a(62),K=a.n(X);var G=function(e){return Object(n.jsx)("div",{className:K.a.Fixed,children:e.children})},J=a(11),Q=a.n(J),$=a(63),ee=a.n($);var te=function(e){var t={width:e.width,height:e.height,marginRight:e.margin?e.margin:null},a=null;return a="box"===e.type?Object(n.jsx)("textarea",{name:e.name,placeholder:e.name,onChange:function(t){e.inputChange(t,e.tagName)},value:e.value}):Object(n.jsx)("input",{type:"text",name:e.name,placeholder:e.name,onChange:function(t){e.inputChange(t,e.tagName)},value:e.value}),Object(n.jsxs)("div",{className:ee.a.InputTag,style:t,children:[Object(n.jsx)("label",{htmlFor:e.name,children:e.label}),a,e.moveCategoryHandler?Object(n.jsxs)("select",{onChange:function(t){"delete"===t.target.value?e.deleteCategoryHandler():"front"===t.target.value?e.moveCategoryHandler("front"):"back"===t.target.value&&e.moveCategoryHandler("back")},children:[Object(n.jsx)("option",{value:"",children:"..."}),Object(n.jsx)("option",{value:"delete",children:"delete"}),Object(n.jsx)("option",{value:"front",children:"Move front"}),Object(n.jsx)("option",{value:"back",children:"Move Back"})]}):null]})},ae=function(e){var t=Object(n.jsxs)("div",{className:Q.a.ProductDetails,children:[Object(n.jsx)("h1",{children:"Product Details"}),Object(n.jsxs)("div",{className:Q.a.imageList,children:[e.product.productImage.map((function(t,a){return Object(n.jsx)(M,{imgDelete:function(){e.showConfirmation("Delete Image",e.deleteImageHandler(a))},addImgHandler:function(){return null},imgUrl:t},t)})),Object(n.jsx)(M,{addImgHandler:e.addImgHandler})]}),Object(n.jsxs)("div",{className:Q.a.SoldBy,children:[Object(n.jsx)("span",{className:Q.a.Bold,children:"Sold By: "}),e.addprod?Object(n.jsx)(k,{width:"200px",dropChange:e.addMerch,display:"inline-block",values:e.merchants}):e.merch]}),Object(n.jsxs)("div",{className:Q.a.Basic,children:[Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"50%",type:"number",height:"50px",name:"name",tagName:"productName",label:"Product Name",value:e.product.productName}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,label:"Sale Price",type:"number",width:"13%",height:"35PX",tagName:"offerPrice",name:"sale",value:e.product.offerPrice}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,label:"Discount",type:"number",width:"13%",height:"35px",tagName:"discount",name:"discount",value:e.product.discount}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,label:"Price",type:"number",width:"13%",height:"35px",tagName:"sellingPrice",name:"price",value:e.product.sellingPrice})]}),Object(n.jsx)("div",{children:Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"100%",height:"80px",name:"desc",type:"box",tagName:"productDetail",label:"Product Description",value:e.product.productDetail})}),Object(n.jsxs)("div",{className:Q.a.LeftAlign,children:[Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"50%",height:"30px",type:"text",tagName:"barcode",label:"SKU",name:"SKU",value:e.product.barcode}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"40%",height:"30px",type:"date",label:"Added On",name:"addedon",value:"0/0/0"})]}),Object(n.jsx)("div",{}),Object(n.jsxs)("div",{className:[Q.a.Basic,Q.a.HideLabel].join(" "),children:[Object(n.jsx)(k,{width:"30%",dropChange:e.changeCategory,display:"inline-block",values:e.categoryList,value:[e.product.category],name:"category",label:"Category",full:!0}),e.product.category?Object(n.jsx)(k,{width:"30%",dropChange:e.changeCategory,display:"inline-block",values:e.subCategoryList[e.product.category],value:[e.product.subCategory],name:"subCategory",label:"Sub-Category",full:!0}):null,e.product.subCategory&&e.product.category?Object(n.jsx)(k,{width:"30%",dropChange:e.changeCategory,display:"inline-block",values:e.subSubCategoryList[e.product.category][e.product.subCategory],value:[e.product.subSubCategory],name:"subSubCategory",label:"Sub-Sub-Category",full:!0}):null]}),Object(n.jsxs)("div",{className:Q.a.Attributes,children:[Object(n.jsx)("h5",{className:Q.a.Bold,children:"Attributes"}),Object(n.jsxs)("div",{className:Q.a.SoldBy,children:[Object(n.jsx)("span",{className:Q.a.Bold,children:"Attribute Set:"}),Object(n.jsx)(k,{width:"200px",dropChange:e.attributeSetChange,display:"inline-block",values:e.attributeSetsList,value:[e.product.attributeSet],full:!0})]}),Object(n.jsx)("span",{className:Q.a.Bold,children:"Attribute Values:"}),e.product.attributes?e.product.attributes.map((function(t){return Object(n.jsxs)("div",{className:Q.a.AttrValues,children:[0===t.values.length?Object(n.jsx)("div",{className:Q.a.Bold,children:e.attributes[t.id].name}):t.values.map((function(a,s){return function(e,t,a){return 0===t?Object(n.jsx)(te,{width:"20%",margin:"7px",height:"30px",name:"cat"+t,type:"text",label:a,value:e,inputChange:function(){return null}},t):Object(n.jsx)(te,{width:"20%",margin:"7px",height:"30px",name:"cat"+t,type:"text",value:e,inputChange:function(){return null}},t)}(a,s,e.attributes[t.id].name)})),e.addval[t.id]?Object(n.jsx)(k,{width:"200px",dropChange:function(a){e.addVal(t.id,a)},display:"inline-block",values:["None"].concat(Object(g.a)(e.attributes[t.id].value))}):Object(n.jsx)("div",{className:Q.a.add,onClick:function(){e.showAddVal(t.id)},children:Object(n.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("line",{x1:"13",x2:"13",y2:"25",stroke:"#085076"}),Object(n.jsx)("line",{y1:"12",x2:"25",y2:"12",stroke:"#085076"})]})})]},t.id)})):null]}),Object(n.jsxs)("div",{children:[e.addprod?null:Object(n.jsx)("h5",{className:Q.a.Bold,children:"Inverntory Information"}),Object(n.jsxs)("div",{className:Q.a.Inventory,children:[void 0===e.units||null===e.units?null:Object.keys(e.units).map((function(t){return Object(n.jsx)(te,{inputChange:e.unitChangeHandler,label:t,type:"number",width:"13%",height:"35PX",tagName:t,name:t,value:e.units[t].unit},t)})),e.addprod?null:e.addsize?Object(n.jsx)(k,{width:"100px",dropChange:e.addSize,display:"inline-block",values:e.allSizes}):Object(n.jsx)("div",{className:Q.a.add,onClick:function(){e.showAddSize()},children:Object(n.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("line",{x1:"13",x2:"13",y2:"25",stroke:"#085076"}),Object(n.jsx)("line",{y1:"12",x2:"25",y2:"12",stroke:"#085076"})]})})]})]}),Object(n.jsxs)("div",{className:Q.a.buttonCont,children:[e.addprod?null:Object(n.jsx)("button",{onClick:function(){e.showConfirmation("Delete product",e.productDelete)},children:"Delete Product"}),Object(n.jsx)("button",{onClick:e.productSaveChange,children:"Save Changes"})]})]});return Object(n.jsx)(s.Fragment,{children:null!==e.product.barcode||e.addprod?t:null})},ne=a(29);a(89),a(90);ne.a.initializeApp({apiKey:"AIzaSyDnDNO35g67ZoVTpXAxKvyqkRku7MNVn7s",authDomain:"nearst-a1d49.firebaseapp.com",databaseURL:"https://nearst-a1d49.firebaseio.com",projectId:"nearst-a1d49",storageBucket:"nearst-a1d49.appspot.com",messagingSenderId:"462669832601",appId:"1:462669832601:web:b609ac145a36a3d29b7308",measurementId:"G-8ZX16C0P41"});var se=ne.a.firestore(),re=ne.a.firestore.Timestamp,le=ne.a.storage(),ie={firebase:ne.a,db:se,storage:le,timeStamp:re},ce=a(42),oe=a.n(ce),de=function(e){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("div",{onClick:function(){e.CloseModal()},className:oe.a.Modal}),Object(n.jsx)("div",{className:oe.a.form,children:e.children})]})},ue=a(32),he=a.n(ue),me=function(e){return Object(n.jsxs)("div",{className:he.a.ImageInput,children:[Object(n.jsx)("div",{className:he.a.Img,children:Object(n.jsx)(M,{addImgHandler:function(){return null}})}),Object(n.jsx)("div",{className:he.a.Input,children:Object(n.jsx)("input",{id:"image",type:"file",multiple:!0})}),Object(n.jsx)("button",{onClick:function(t){!function(t){t.preventDefault();var a=document.querySelector("#image");if(!a.files[0])return null;for(var n=0;n<a.files.length;n++)e.uploadImgHandler(a.files[n])}(t)},className:he.a.Button,children:"Submit"})]})},je=a(43),be=a.n(je),ge=function(e){return Object(n.jsx)(de,{CloseModal:e.cancel,children:Object(n.jsxs)("div",{className:be.a.ConformationForm,children:["Do you want to ",e.message," ?",Object(n.jsxs)("div",{className:be.a.buttonCont,children:[Object(n.jsx)("button",{onClick:e.cancel,children:"No"}),Object(n.jsx)("button",{onClick:e.proceed,children:"Yes"})]})]})})},pe=function(e){Object(x.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).productChangeHandler=function(e){var t=Object(p.a)(Object(p.a)({},n.state.products[e]),{},{attributes:Object(g.a)(n.state.products[e].attributes)});t.attributes.forEach((function(e,a){t.attributes[a]=Object(p.a)(Object(p.a)({},e),{},{values:Object(g.a)(e.values)})})),n.setState({product:t,activeProduct:e,unit:n.state.units[n.state.products[e].productId],addVal:{},addSize:!1});var a=null;n.state.merchants.forEach((function(t){n.state.products[e].merchantId===t.value&&(a=t.name)})),n.setState({merch:a})},n.SearchHandler=function(e){n.setState({search:e.target.value})},n.inputChangeHandler=function(e,t){var a=Object(p.a)({},n.state.product);a[t]=e.target.value,"discount"===t?a.sellingPrice=a.offerPrice*(1-a.discount/100):"sellingPrice"!==t&&"offerPrice"!==t||(a.discount=100-a.sellingPrice/a.offerPrice*100),n.setState({product:a})},n.showConfirmation=function(e,t){n.setState({confirmation:{message:e,proceed:t,cancel:n.CloseModal}})},n.unitChangeHandler=function(e,t){var a=Object(p.a)({},n.state.unit),s=Object(p.a)({},a[t]);s.unit=e.target.value,a[t]=s,n.setState({unit:a})},n.productSaveChange=function(){var e=Object(p.a)({},n.state.product);if(delete e.productId,ie.db.collection("products").doc(n.state.product.productId).set(Object(p.a)({},e)).then((function(){n.getProducts()})),n.state.units[n.state.product.productId])for(var t=Object.keys(n.state.unit),a=0;a<t.length;a++)null!==n.state.unit[t[a]].unitId?ie.db.collection("size_unit").doc(n.state.unit[t[a]].unitId).set({productId:n.state.product.productId,size:t[a],unit:n.state.unit[t[a]].unit}).then((function(){n.getUnits()})):ie.db.collection("size_unit").add({productId:n.state.product.productId,size:t[a],unit:n.state.unit[t[a]].unit}).then((function(){n.getUnits()}))},n.productSaveNew=function(){ie.db.collection("products").add(Object(p.a)({},n.state.product)).then((function(e){n.getProducts(),n.setState({activeAdd:!1})}))},n.productDelete=function(){n.state.savedItems&&n.state.savedItems.forEach((function(e){e.productId===n.state.product.productId&&ie.db.collection("savedItems").doc(e.itemId).delete()})),n.state.shoppingBag&&n.state.shoppingBag.forEach((function(e){e.productId===n.state.product.productId&&ie.db.collection("shoppingBag").doc(e.itemId).delete()})),ie.db.collection("products").doc(n.state.product.productId).delete().then((function(){n.getProducts();n.setState({product:{barcode:null,brands:[],categories:[],discount:0,fabrics:[],isActive:!0,isReturnable:!1,merchantId:null,offerPrice:0,productDetail:"",productImage:[],productName:"",sellingPrice:0,sizeUnit:[],sleeves:[]},activeProduct:null,confirmation:null})}))},n.getProducts=function(){var e=[];ie.db.collection("products").get().then((function(t){t.forEach((function(t){var a=Object(p.a)(Object(p.a)({},t.data()),{},{productId:t.id});a.brands||(a.brands=[]),a.fabrics||(a.fabrics=[]),a.colors||(a.colors=[]),a.patterns||(a.patterns=[]),a.neckline||(a.neckline=[]),a.sleeves||(a.sleeves=[]),a.styles||(a.styles=[]),a.works||(a.works=[]),a.rises||(a.rises=[]),a.soles||(a.soles=[]),a.occasions||(a.occasions=[]),a.heels||(a.heels=[]),a.product||!a.attributeSet||e.push(a),a.productImage||(a.productImage=[])})),n.setState({products:e})}))},n.getUnits=function(){var e={};ie.db.collection("size_unit").get().then((function(t){t.forEach((function(t){var a=t.data();e[a.productId]||(e[a.productId]={}),e[a.productId][String(a.size)]={unit:a.unit,unitId:t.id}})),n.setState({units:e})}))},n.getAttributes=function(){var e={},t=[];ie.db.collection("attributes").get().then((function(a){a.forEach((function(a){var n=a.data();e[a.id]=n,t.push({name:n.name,value:a.id})})),n.setState({attributes:e,attributesList:t})}))},n.getAttributeSets=function(){var e={},t=[{name:"None",value:"None"}];ie.db.collection("attributeSets").get().then((function(a){a.forEach((function(a){var n=a.data();e[a.id]=n,t.push({name:n.name,value:a.id})})),n.setState({attributeSets:e,attributeSetsList:t})}))},n.getCategories=function(){var e=[{name:"Category Filter",value:"none"}],t=[],a={},s={};ie.db.collection("category").get().then((function(r){r.forEach((function(e){t.push({name:e.data().name,value:e.id})})),t.forEach((function(r,l){ie.db.collection("category").doc(r.value).collection("subCategory").get().then((function(i){i.forEach((function(e){a[r.value]?a[r.value].push({name:e.data().name,value:e.id}):a[r.value]=[{name:e.data().name,value:e.id}]})),a[r.value].forEach((function(i,c){ie.db.collection("category").doc(r.value).collection("subCategory").doc(i.value).collection("subSubCategory").get().then((function(o){o.forEach((function(t){s[r.value]||(s[r.value]={}),s[r.value][i.value]?s[r.value][i.value].push({name:t.data().name,value:t.id}):s[r.value][i.value]=[{name:t.data().name,value:t.id}],e.push({name:t.data().name,value:t.id})})),a[r.value].length===c+1&&t.length===l+1&&n.setState({categoryList:t,subCategoryList:a,subSubCategoryList:s,allSubSubCat:e})}))}))}))}))}))},n.showAddVal=function(e){var t={};t[e]=!0,n.setState({addVal:t})},n.showAddSize=function(){n.setState({addSize:!0})},n.addVal=function(e,t){var a=Object(p.a)({},n.state.product),s=Object(g.a)(a.attributes);console.log(s),s.forEach((function(a,n){a.id!==e||a.values.includes(t)||s[n].values.push(t)})),n.setState({product:a,addVal:{}})},n.changeCategory=function(e,t){var a=Object(p.a)({},n.state.product);a[e]=t,"category"===e?(a.subCategory=n.state.subCategoryList[t][0].value,a.subSubCategory=n.state.subSubCategoryList[t][a.subCategory][0].value):"subCategory"===e&&(a.subSubCategory=n.state.subSubCategoryList[a.category][a.subCategory][0].value),n.setState({product:a})},n.addSize=function(e){var t=Object(p.a)({},n.state.unit);Object.keys(t).includes(e)?n.setState({addSize:!1}):(t[e]={productId:n.state.product.productId,unit:0,unitId:null},n.setState({unit:t,addSize:!1}))},n.addMerch=function(e){var t=Object(p.a)(Object(p.a)({},n.state.product),{},{merchantId:e});n.setState({product:t})},n.attributeSetChange=function(e,t){var a=Object(p.a)({},n.state.product);a.attributeSet="None"===t?null:t,a.attributes=[],console.log(t),"None"!==t&&n.state.attributeSets[t].attributes.forEach((function(e){a.attributes.push({id:e,values:[]})})),n.setState({product:a})},n.addImgHandler=function(){n.setState({addImg:!0})},n.deleteImageHandler=function(e){var t=Object(p.a)({},n.state.product),a=Object(g.a)(t.productImage);a.splice(e,1),t.productImage=a,n.setState({product:t,confirmation:null})},n.uploadImgHandler=function(e){var t=ie.storage.ref(),a=new Date+"-"+e.name,s={contentType:e.type};t.child("data/user/0/com.vendor_app_shopping/cache"+a).put(e,s).then((function(e){return e.ref.getDownloadURL().then((function(e){var t=[].concat(Object(g.a)(n.state.product.productImage),[e]),a=Object(p.a)(Object(p.a)({},n.state.product),{},{productImage:t});n.setState({product:a,addImg:!1})}))}))},n.filterChangeHandler=function(e,t){var a=Object(p.a)({},n.state.product);a[e]="none"===t?[]:[t],n.setState({product:a})},n.newProductHandler=function(){var e={attributeSet:null,attributes:[],barcode:null,category:n.state.categoryList[0].value,subCategory:n.state.subCategoryList[n.state.categoryList[0].value][0].value,subSubCategory:n.state.subSubCategoryList[n.state.categoryList[0].value][n.state.subCategoryList[n.state.categoryList[0].value][0].value][0].value,discount:0,isActive:!0,isReturnable:!1,merchantId:null,offerPrice:0,productDetail:"",productImage:[],productName:"",sellingPrice:0};n.setState({product:e,activeProduct:null,activeAdd:!0})},n.sellerFilterChangeHandler=function(e){n.setState({filterSellerValue:"none"===e?"":e})},n.categoryFilterChangeHandler=function(e){n.setState({filterCategoryValue:"none"===e?"":e})},n.CloseModal=function(){!0===n.state.addImg?n.setState({addImg:!1}):n.setState({activeAdd:!1,confirmation:null})},n.state={products:null,allCategories:null,allBrands:null,product:{barcode:null,brands:[],categories:[],discount:0,fabrics:[],isActive:!0,isReturnable:!1,merchantId:null,offerPrice:0,productDetail:"",productImage:[],productName:"",sellingPrice:0,sizeUnit:[],sleeves:[]},activeProduct:null,activeAdd:!1,search:"",addVal:{},addSize:!1,addImg:!1,merchants:[],merch:null,units:null,unit:null,allCategoriesObj:null,filterSellerValue:"",filterCategoryValue:"",attributes:null,attributesList:null,attributeSets:null,attributeSetsList:null,allSubSubCat:null,categoryList:[],subCategoryList:{},subSubCategoryList:{},confirmation:null},n.getProducts(),n.getUnits(),n.getAttributeSets(),n.getAttributes(),n.getCategories(),ie.db.collection("other").doc("brands").get().then((function(e){var t=[{name:"none",value:"none"}];e.data().brands.forEach((function(e){t.push({name:e,value:e})})),n.setState({allBrands:t})})),ie.db.collection("other").doc("color").get().then((function(e){var t=[{name:"none",value:"none"}];e.data().color.forEach((function(e){t.push({name:e,value:e})})),n.setState({allColors:t})})),ie.db.collection("other").doc("fabrics").get().then((function(e){var t=[{name:"none",value:"none"}];e.data().fabrics.forEach((function(e){t.push({name:e,value:e})})),n.setState({allFabrics:t})})),ie.db.collection("other").doc("occasion").get().then((function(e){var t=[{name:"none",value:"none"}];e.data().occasion.forEach((function(e){t.push({name:e,value:e})})),n.setState({allOccasions:t})})),ie.db.collection("other").doc("style").get().then((function(e){var t=[{name:"none",value:"none"}];e.data().style.forEach((function(e){t.push({name:e,value:e})})),n.setState({allStyles:t})})),ie.db.collection("other").doc("pattern").get().then((function(e){var t=[{name:"none",value:"none"}];e.data().pattern.forEach((function(e){t.push({name:e,value:e})})),n.setState({allPatterns:t})})),ie.db.collection("other").doc("neckline").get().then((function(e){var t=[{name:"none",value:"none"}];e.data().neckline.forEach((function(e){t.push({name:e,value:e})})),n.setState({allNecklines:t})})),ie.db.collection("other").doc("sleeves").get().then((function(e){var t=[{name:"none",value:"none"}];e.data().sleeves.forEach((function(e){t.push({name:e,value:e})})),n.setState({allSleeves:t})})),ie.db.collection("other").doc("size").get().then((function(e){var t=[{name:"none",value:"none"}];e.data().size.forEach((function(e){t.push({name:e,value:e})})),n.setState({allSizes:t})})),ie.db.collection("merchant").get().then((function(e){var t=[{name:"Merchants",value:"none"}];e.forEach((function(e){t.push({name:e.data().storeName,value:e.id})})),n.setState({merchants:t})})),ie.db.collection("savedItems").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(p.a)(Object(p.a)({},e.data()),{},{itemId:e.id}))})),n.setState({savedItems:t})})),ie.db.collection("shoppingBag").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(p.a)(Object(p.a)({},e.data()),{},{itemId:e.id}))})),n.setState({shoppingBag:t})})),n}return Object(v.a)(a,[{key:"render",value:function(){return Object(n.jsx)(s.Fragment,{children:null===this.state.products||null===this.state.units||null===this.state.attributeSet||null===this.state.attributes||null===this.state.allSubSubCat?null:Object(n.jsxs)("div",{className:S.a.Product,children:[Object(n.jsx)(Z,{filters:["seller","category"],allSubSubCat:this.state.allSubSubCat,filterCategoryValue:this.state.filterCategoryValue,filterSellerValue:this.state.filterSellerValue,attributeSets:this.state.attributeSets,sellerFilterChangeHandler:this.sellerFilterChangeHandler,categoryFilterChangeHandler:this.categoryFilterChangeHandler,productChangeHandler:this.productChangeHandler,merchantList:this.state.merchants,units:this.state.units,newProductHandler:this.newProductHandler,searchHandler:this.SearchHandler,searchString:this.state.search,activeProduct:this.state.activeProduct,list:this.state.products}),Object(n.jsx)(G,{children:this.state.activeAdd?null:Object(n.jsx)(ae,{deleteImageHandler:this.deleteImageHandler,productDelete:this.productDelete,unitChangeHandler:this.unitChangeHandler,addImgHandler:this.addImgHandler,productSaveChange:this.productSaveChange,addprod:!1,addVal:this.addVal,addSize:this.addSize,showAddCat:this.showAddCat,showAddVal:this.showAddVal,showAddSize:this.showAddSize,units:this.state.unit,addval:this.state.addVal,addsize:this.state.addSize,product:this.state.product,merch:this.state.merch,inputChangeHandler:this.inputChangeHandler,allSizes:this.state.allSizes,allBrands:this.state.allBrands,allColors:this.state.allColors,allFabrics:this.state.allFabrics,allOccasions:this.state.allOccasions,allStyles:this.state.allStyles,allPatterns:this.state.allPatterns,allNecklines:this.state.allNecklines,allSleeves:this.state.allSleeves,filterChangeHandler:this.filterChangeHandler,attributeSetsList:this.state.attributeSetsList,attributeSets:this.state.attributeSets,attributesList:this.state.attributesList,attributes:this.state.attributes,attributeSetChange:this.attributeSetChange,categoryList:this.state.categoryList,subCategoryList:this.state.subCategoryList,subSubCategoryList:this.state.subSubCategoryList,changeCategory:this.changeCategory,showConfirmation:this.showConfirmation})}),this.state.activeAdd?Object(n.jsx)(de,{CloseModal:this.CloseModal,children:Object(n.jsx)(ae,{addMerch:this.addMerch,deleteImageHandler:this.deleteImageHandler,addImgHandler:this.addImgHandler,merchants:this.state.merchants,productSaveChange:this.productSaveNew,addprod:!0,addVal:this.addVal,addSize:this.addSize,showAddCat:this.showAddCat,showAddVal:this.showAddVal,showAddSize:this.showAddSize,addcat:this.state.addCat,addval:this.state.addVal,addsize:this.state.addSize,product:this.state.product,inputChangeHandler:this.inputChangeHandler,allSizes:this.state.allSizes,allBrands:this.state.allBrands,allColors:this.state.allColors,allFabrics:this.state.allFabrics,allOccasions:this.state.allOccasions,allStyles:this.state.allStyles,allPatterns:this.state.allPatterns,allNecklines:this.state.allNecklines,allSleeves:this.state.allSleeves,filterChangeHandler:this.filterChangeHandler,attributeSetsList:this.state.attributeSetsList,attributeSets:this.state.attributeSets,attributesList:this.state.attributesList,attributes:this.state.attributes,attributeSetChange:this.attributeSetChange,categoryList:this.state.categoryList,subCategoryList:this.state.subCategoryList,subSubCategoryList:this.state.subSubCategoryList,changeCategory:this.changeCategory,showConfirmation:this.showConfirmation})}):null,this.state.addImg?Object(n.jsx)(de,{CloseModal:this.CloseModal,children:Object(n.jsx)(me,{uploadImgHandler:this.uploadImgHandler})}):null,this.state.confirmation?Object(n.jsx)(ge,Object(p.a)({},this.state.confirmation)):null]})})}}]),a}(s.Component),Oe=a(44),ve=a.n(Oe),xe=a(64),fe=a.n(xe),Ce=function(){return Object(n.jsxs)("ul",{className:fe.a.OrderSubHead,children:[Object(n.jsx)("li",{children:"Image"}),Object(n.jsx)("li",{children:"Order Details"}),Object(n.jsx)("li",{children:"Price"}),Object(n.jsx)("li",{children:"Sold By"}),Object(n.jsx)("li",{children:"Date Of Order"}),Object(n.jsx)("li",{children:"Status"}),Object(n.jsx)("li",{children:"Payment"})]})},Se=a(45),ye=a.n(Se),_e=a(65),Ie=a.n(_e),Ne=function(e){var t=e.product,a=e.merchants[e.merchant];return e.mode&&(t=e.orderProduct[e.product],a=e.merchants[t.merchantId]),Object(n.jsxs)("ul",{className:Ie.a.OrderProductElement,children:[Object(n.jsxs)("li",{children:[Object(n.jsx)(M,{imgUrl:t.productImage})," "]}),Object(n.jsxs)("li",{children:[Object(n.jsx)("div",{children:t.name}),Object(n.jsxs)("div",{children:["Size: ",t.size]}),Object(n.jsxs)("div",{children:["Qty: ",t.quantity]})]}),Object(n.jsx)("li",{children:Object(n.jsx)(q,{offprice:t.offprice,sellprice:t.price})}),Object(n.jsx)("li",{children:a}),Object(n.jsx)("li",{children:e.date.toDate().toDateString()}),Object(n.jsx)("li",{children:e.status}),Object(n.jsx)("li",{children:e.payment})]})},He=function(e){var t={backgroundColor:e.active?"#EFF3F6":null};return Object(n.jsxs)("div",{style:t,onClick:e.clicked,className:ye.a.OrderListElement,children:[Object(n.jsxs)("div",{className:ye.a.head,children:[Object(n.jsxs)("span",{children:["Order No: ",e.id," "]}),Object(n.jsxs)("span",{children:["Mode: ",!0===e.mode?"Online":"offline"]})]}),e.products.map((function(t){return Object(n.jsx)(Ne,{merchants:e.merchants,orderProduct:e.orderProduct,mode:e.mode,product:t,payment:e.payment,date:e.date,status:e.status,merchant:e.merchant})}))]})},Pe=function(e){return Object(n.jsxs)("div",{className:ve.a.OrdersBar,children:[Object(n.jsx)(A,{head:"Orders",searchString:e.searchString,sellerDropChange:e.sellerFilterChangeHandler,statusDropChange:e.statusFilterChangeHandler,searchHandler:e.searchHandler,statusList:e.statusList,filters:e.filters.join(),merchantList:e.merchantList,placeholder:"search Order Id"}),Object(n.jsx)(Ce,{}),Object(n.jsx)("div",{className:ve.a.list,children:e.orders.map((function(t,a){var s=t.merchantIds?[].concat(Object(g.a)(t.merchantIds),[""]):t.merchantIds,r=s||t.merchantId;return r=null===r?"":r,t.orderId.includes(e.searchString)&&r.includes(e.filterSellerValue)&&t.status.includes(e.filterStatusValue)?a===e.activeOrder?Object(n.jsx)(He,{merchants:e.merchants,orderProduct:e.orderProduct,clicked:function(){return e.orderChangeHandler(a)},products:t.products,payment:t.transactionId,active:!0,date:t.createdAt,status:t.status,merchant:t.merchantId,id:t.orderId,mode:t.isOnline},a):Object(n.jsx)(He,{merchants:e.merchants,orderProduct:e.orderProduct,clicked:function(){return e.orderChangeHandler(a)},products:t.products,payment:t.transactionId,date:t.createdAt,status:t.status,merchant:t.merchantId,id:t.orderId,mode:t.isOnline},a):null}))})]})},De=a(46),we=a.n(De),Le=a(25),ke=a.n(Le),Ae=function(e){var t=Object(n.jsxs)("div",{className:ke.a.OrderDetails,children:[Object(n.jsx)("h1",{children:"Order Details"}),Object(n.jsxs)("h3",{children:["ORDER ID : ",e.order.orderId]}),Object(n.jsx)("div",{className:ke.a.products,children:e.order.products.map((function(t){var a=null;return e.order.isOnline&&(a=t,t=e.orderProduct[t]),Object(n.jsxs)("div",{className:ke.a.Prod,children:[Object(n.jsx)(M,{imgUrl:t.productImage}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:t.name}),Object(n.jsxs)("div",{children:["\u20b9",t.price," "]}),Object(n.jsxs)("div",{children:[" Sold By: ",e.order.isOnline?e.merchants[t.merchantId]:e.merchants[e.order.merchantId]," "]}),Object(n.jsxs)("div",{children:[" ",Object(n.jsxs)("span",{children:[" Size: ",t.size," "]})," ",Object(n.jsxs)("span",{children:["Qty: ",t.quantity]})," "]}),e.order.isOnline?Object(n.jsxs)("div",{children:["Status: ",t.status]}):null]}),e.order.isOnline?Object(n.jsxs)("div",{className:ke.a.SideButtons,children:["completed"!==t.status&&"cancelled"!==t.status&&"returned"!==t.status?Object(n.jsx)("button",{id:"confirm",onClick:function(t){e.statusChangeHandler("completed",a)},children:"Confirm Fulfilment"}):null,"completed"!==t.status&&"cancelled"!==t.status&&"returned"!==t.status?Object(n.jsx)("button",{id:ke.a.cancel,onClick:function(t){e.statusChangeHandler("cancel",a)},children:"Cancel Product"}):null,"cancelled"!==t.status&&"returned"!==t.status?Object(n.jsx)("button",{onClick:function(t){e.statusChangeHandler("returned",a)},children:"Return Product"}):null]}):null]})}))}),Object(n.jsxs)("div",{className:ke.a.total,children:["Total Amount: \u20b9",e.order.totalAmount]}),Object(n.jsxs)("div",{className:ke.a.customer,children:[Object(n.jsx)("h3",{children:"Customer Details:"}),Object(n.jsxs)("p",{children:["Name: ",e.customer?e.customer.userName:null]}),Object(n.jsxs)("p",{children:["Phone: ",e.customer?e.customer.userPhone:null]}),Object(n.jsx)("h2",{children:"Delivery Address:"}),Object(n.jsx)("p",{children:e.order.address}),Object(n.jsxs)("h1",{children:["STATUS: ",e.order.status]}),e.order.isOnline?null:Object(n.jsx)("div",{className:ke.a.buttons}),Object(n.jsx)("button",{onClick:e.modifyDelivery,id:"modify",children:"Modify Delivery Address"})]})]});return console.log(e.order.orderId),Object(n.jsx)(s.Fragment,{children:void 0===e.order.orderId?null:t})},Be=function(e){Object(x.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).swap=function(e,t,a){var n=e[t];e[t]=e[a],e[a]=n},n.partition=function(e,t,a){for(var s=e[Math.floor((a+t)/2)].createdAt,r=t,l=a;r<=l;){for(;e[r].createdAt>s;)r++;for(;e[l].createdAt<s;)l--;r<=l&&(n.swap(e,r,l),r++,l--)}return r},n.quickSort=function(e,t,a){var s;return e.length>1&&(t<(s=n.partition(e,t,a))-1&&n.quickSort(e,t,s-1),s<a&&n.quickSort(e,s,a)),e},n.orderChangeHandler=function(e){n.setState({order:n.state.orders[e],activeOrder:e}),console.log(n.state.order)},n.SearchHandler=function(e){n.setState({search:e.target.value})},n.upload=function(){var e=Object(p.a)({},n.state.order);delete e.orderId,ie.db.collection("orders").doc(n.state.order.orderId).set(Object(p.a)({},e)).then((function(){console.log("success"),n.setState({addShow:!1,order:{products:[]},activeOrder:null}),n.getOrders()}))},n.statusChangeHandler=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n.state.order.isOnline?ie.db.collection("productInOrder").doc(t).set({status:e},{merge:!0}).then((function(){n.getOrderProduct()})):ie.db.collection("orders").doc(n.state.order.orderId).set({status:e},{merge:!0}),n.getOrders()},n.getOrders=function(){var e={},t=[];ie.db.collection("orders").get().then((function(a){a.forEach((function(a){var s=Object(p.a)(Object(p.a)({},a.data()),{},{orderId:a.id});t.push(s),ie.db.collection("User").doc(a.data().userId).get().then((function(t){e[t.id]=t.data(),n.setState({customers:e})}))})),n.quickSort(t,0,t.length-1),n.setState({orders:t}),null!==n.state.activeOrder&&n.orderChangeHandler(n.state.activeOrder)}))},n.getOrderProduct=function(){var e={};ie.db.collection("productInOrder").get().then((function(t){t.forEach((function(t){e[t.id]=t.data()})),n.setState({orderProduct:e})}))},n.inputChangeHandler=function(e,t){var a=Object(p.a)({},n.state.order);console.log(a),a[t]=e.target.value,n.setState({order:a})},n.modifyDelivery=function(){n.setState({addShow:!n.state.addShow})},n.getSeller=function(){ie.db.collection("merchant").get().then((function(e){var t={},a=[{name:"Filter Seller",value:""}];e.forEach((function(e){t[e.id]=e.data().storeName,a.push({name:e.data().storeName,value:e.id})})),n.setState({merchants:t,merchantList:a})}))},n.sellerFilterChangeHandler=function(e){n.setState({filterSellerValue:e})},n.statusFilterChangeHandler=function(e){n.setState({filterStatusValue:e})},n.state={orders:null,orderProduct:null,merchants:null,customers:{},order:{products:[],merchantIds:[]},activeOrder:null,search:"",addShow:!1,filterSellerValue:"",filterStatusValue:""},n.getOrders(),n.getSeller(),n.getOrderProduct(),n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(s.Fragment,{children:[null===this.state.orders||null===this.state.merchants||null===this.state.orderProduct?null:Object(n.jsxs)("div",{className:we.a.Orders,children:[Object(n.jsx)(Pe,{filters:["seller","orderStatus"],filterSellerValue:this.state.filterSellerValue,filterStatusValue:this.state.filterStatusValue,statusFilterChangeHandler:this.statusFilterChangeHandler,sellerFilterChangeHandler:this.sellerFilterChangeHandler,searchHandler:this.SearchHandler,merchantList:this.state.merchantList,statusList:[{name:"Status Filter",value:""},{name:"Online Purchase",value:"Online Purchase"},{name:"Store Purchase",value:"Store Purchase"}],searchString:this.state.search,merchants:this.state.merchants,orderProduct:this.state.orderProduct,orderChangeHandler:this.orderChangeHandler,activeOrder:this.state.activeOrder,orders:this.state.orders}),Object(n.jsx)(G,{children:this.state.order.orderId?Object(n.jsx)(Ae,{modifyDelivery:this.modifyDelivery,statusChangeHandler:this.statusChangeHandler,orderProduct:this.state.orderProduct,merchants:this.state.merchants,customer:this.state.customers[this.state.order.userId],order:this.state.order}):null})]}),!!this.state.addShow&&Object(n.jsxs)(de,{CloseModal:this.modifyDelivery,children:[Object(n.jsx)(te,{inputChange:this.inputChangeHandler,width:"100%",height:"80px",name:"address",type:"box",tagName:"address",label:"Delivery Address",value:this.state.order.address}),Object(n.jsx)("button",{onClick:function(t){e.upload(t)},className:we.a.Button,children:"Submit"})]})]})}}]),a}(s.Component),Ee=a(66),Fe=a.n(Ee),Te=a(47),ze=a.n(Te),Ve=a(67),Ue=a.n(Ve),Me=function(){return Object(n.jsxs)("ul",{className:Ue.a.SubHead,children:[Object(n.jsx)("li",{children:"Image"}),Object(n.jsx)("li",{children:"Name"}),Object(n.jsx)("li",{children:"Contact"}),Object(n.jsx)("li",{children:"#Purchase"}),Object(n.jsx)("li",{children:"\u20b9Purchase"}),Object(n.jsx)("li",{children:"Last Activity"}),Object(n.jsx)("li",{children:"visits/month"})]})},Re=a(68),Ye=a.n(Re),qe=function(e){var t={backgroundColor:e.active?"#EFF3F6":null},a=0;if(e.order)for(var s=0;s<e.order.length;s++)a+=e.order[s].totalAmount;return Object(n.jsxs)("ul",{onClick:e.clicked,style:t,className:Ye.a.CustomerListElement,children:[Object(n.jsxs)("li",{children:[Object(n.jsx)(M,{addImgHandler:function(){return null},imgUrl:e.img})," "]}),Object(n.jsx)("li",{children:e.name}),Object(n.jsx)("li",{children:e.contact}),Object(n.jsxs)("li",{children:[e.order?e.order.length:0," "]}),Object(n.jsxs)("li",{children:["\u20b9 ",a," "]}),Object(n.jsx)("li",{children:"5 oct 2020 "}),Object(n.jsx)("li",{children:"nil"})]})},We=function(e){return Object(n.jsxs)("div",{className:ze.a.CustomerBar,children:[Object(n.jsx)(A,{head:"Customers",newProductHandler:e.newProductHandler,searchHandler:e.SearchHandler,searchString:e.searchString,placeholder:"Search Customer"}),Object(n.jsx)(Me,{}),Object(n.jsx)("div",{className:ze.a.list,children:e.customers.map((function(t,a){return t.userName.includes(e.searchString)?a===e.activeCustomer?Object(n.jsx)(qe,{order:e.orders[t.userId],clicked:function(){return e.CustomerChangeHandler(a)},img:t.userImage,name:t.userName,contact:t.userPhone,active:!0}):Object(n.jsx)(qe,{order:e.orders[t.userId],clicked:function(){return e.CustomerChangeHandler(a)},img:t.userImage,name:t.userName,contact:t.userPhone}):null}))})]})},Ze=a(33),Xe=a.n(Ze),Ke=function(e){var t=Object(n.jsxs)("div",{className:Xe.a.CustomerDetails,children:[Object(n.jsx)("h1",{children:"Customer Details"}),Object(n.jsxs)("div",{className:Xe.a.customer,children:[Object(n.jsx)("h3",{children:"Customer Details:"}),Object(n.jsxs)("p",{children:["Name: ",e.customer.userName]}),Object(n.jsxs)("p",{children:["Phone: ",e.customer.userPhone]}),Object(n.jsxs)("p",{children:["Email: ",e.customer.userEmail]}),Object(n.jsx)("h2",{children:"Delivery Address:"}),Object(n.jsx)("p",{children:e.customer.address})]}),Object(n.jsx)("h3",{children:"Past Orders"}),e.orders?e.orders.map((function(t){return Object(n.jsxs)("div",{className:Xe.a.orderDetail,children:[Object(n.jsxs)("h3",{children:["ORDER ID : ",t.orderId]}),Object(n.jsx)("div",{className:Xe.a.products,children:t.products.map((function(a){return Object(n.jsxs)("div",{children:[Object(n.jsx)(M,{imgUrl:a.productImage}),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:a.name}),Object(n.jsxs)("div",{children:["\u20b9",a.price," "]}),Object(n.jsxs)("div",{children:[" Sold By: ",e.merchants[t.merchantId]," "]}),Object(n.jsxs)("div",{children:[" ",Object(n.jsxs)("span",{children:[" Size: ",a.size," "]})," ",Object(n.jsxs)("span",{children:["Qty: ",a.quantity]})," "]})]})]})}))})]})})):null]});return Object(n.jsx)(s.Fragment,{children:void 0===e.customer.userId?null:t})},Ge=function(e){Object(x.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).getOrders=function(){var e={};ie.db.collection("orders").get().then((function(t){t.forEach((function(t){var a=Object(p.a)(Object(p.a)({},t.data()),{},{orderId:t.id});e[a.userId]?e[a.userId].push(a):e[a.userId]=[a]})),console.log(e),n.setState({orders:e})}))},n.getSeller=function(){ie.db.collection("merchant").get().then((function(e){var t={};e.forEach((function(e){t[e.id]=e.data().storeName})),n.setState({merchants:t})}))},n.getCustomers=function(){var e=[];ie.db.collection("User").get().then((function(t){t.forEach((function(t){var a=Object(p.a)(Object(p.a)({},t.data()),{},{userId:t.id});null===a.userName&&(a.userName=""),e.push(a)})),console.log(e),n.setState({customers:e}),n.getOrders(),n.getSeller()}))},n.CustomerChangeHandler=function(e){n.setState({customer:n.state.customers[e],activeCustomer:e})},n.SearchHandler=function(e){n.setState({search:e.target.value})},n.state={customers:null,customer:null,activeCustomer:null,search:"",orders:{},merchants:null},n.getCustomers(),n}return Object(v.a)(a,[{key:"render",value:function(){return Object(n.jsx)(s.Fragment,{children:null===this.state.customers?null:Object(n.jsxs)("div",{className:Fe.a.Customer,children:[Object(n.jsx)(We,{customers:this.state.customers,orders:this.state.orders,searchString:this.state.search,SearchHandler:this.SearchHandler,CustomerChangeHandler:this.CustomerChangeHandler,activeCustomer:this.state.activeCustomer}),Object(n.jsx)(G,{children:this.state.customer?Object(n.jsx)(Ke,{customer:this.state.customer,merchants:this.state.merchants,orders:this.state.orders[this.state.customer.userId]}):null})]})})}}]),a}(s.Component),Je=a(69),Qe=a.n(Je),$e=a(48),et=a.n($e),tt=a(70),at=a.n(tt),nt=function(){return Object(n.jsxs)("ul",{className:at.a.SellerSubHead,children:[Object(n.jsx)("li",{children:"Banner"}),Object(n.jsx)("li",{children:"Store Name"}),Object(n.jsx)("li",{children:"Opening Time"}),Object(n.jsx)("li",{children:"Closing Time"}),Object(n.jsx)("li",{children:"#products"}),Object(n.jsx)("li",{children:"#orders"})]})},st=a(71),rt=a.n(st),lt=function(e){var t={backgroundColor:e.active?"#EFF3F6":null};return Object(n.jsxs)("ul",{onClick:e.clicked,style:t,className:rt.a.SellerListElement,children:[Object(n.jsxs)("li",{children:[Object(n.jsx)(M,{addImgHandler:function(){return null},imgUrl:e.img})," "]}),Object(n.jsx)("li",{children:e.storeName}),Object(n.jsx)("li",{children:e.openingTime}),Object(n.jsx)("li",{children:e.closingTime}),Object(n.jsx)("li",{children:e.products}),Object(n.jsx)("li",{children:e.orders})]})};var it=function(e){return Object(n.jsxs)("div",{className:et.a.SellerBar,children:[Object(n.jsx)(A,{head:"Sellers",newProductHandler:e.newSellerHandler,searchHandler:e.SearchHandler,searchString:e.searchString,placeholder:"Search Store Name"}),Object(n.jsx)(nt,{}),Object(n.jsx)("div",{className:et.a.list,children:e.list.map((function(t,a){return console.log(t),t.storeName.includes(e.searchString)?a===e.activeSeller?Object(n.jsx)(lt,{img:t.bannerImage,storeName:t.storeName,openingTime:t.openingTiming,closingTime:t.closingTiming,products:e.products[t.merchantId],orders:e.orders[t.merchantId],clicked:function(){return e.sellerChangeHandler(a)},active:!0}):Object(n.jsx)(lt,{img:t.bannerImage,storeName:t.storeName,openingTime:t.openingTiming,closingTime:t.closingTiming,products:e.products[t.merchantId],orders:e.orders[t.merchantId],clicked:function(){return e.sellerChangeHandler(a)}}):null}))})]})},ct=a(23),ot=a.n(ct),dt=function(e){var t=Object(n.jsxs)("div",{className:ot.a.SellerDetails,children:[Object(n.jsx)("h1",{children:"Seller Details"}),Object(n.jsx)("div",{className:ot.a.imageList,children:e.seller.bannerImage?Object(n.jsx)(M,{imgReplace:e.addImgHandler,addImgHandler:function(){return null},imgUrl:e.seller.bannerImage}):Object(n.jsx)(M,{addImgHandler:e.addImgHandler,imgUrl:e.seller.bannerImage})}),Object(n.jsxs)("div",{className:ot.a.Basic,children:[Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"40%",type:"text",height:"50px",name:"name",tagName:"storeName",label:"Store Name",value:e.seller.storeName}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,label:"cgst",type:"number",width:"13%",height:"35PX",tagName:"cgst",name:"cgst",value:e.seller.cgst}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,label:"igst",type:"number",width:"13%",height:"35px",tagName:"igst",name:"igst",value:e.seller.igst}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,label:"Shipping",type:"number",width:"13%",height:"35px",tagName:"shippingCharge",name:"shipping",value:e.seller.shippingCharge}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,label:"online",type:"number",width:"13%",height:"35px",tagName:"onlinePaymentCharge",name:"online",value:e.seller.onlinePaymentCharge})]}),Object(n.jsx)("div",{children:Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"100%",height:"80px",name:"desc",type:"box",tagName:"address",label:"store address",value:e.seller.address})}),Object(n.jsxs)("div",{className:ot.a.LeftAlign,children:[Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"45%",height:"30px",type:"text",tagName:"openingTiming",label:"Opening Timing",name:"openingTiming",value:e.seller.openingTiming}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"45%",height:"30px",type:"text",tagName:"closingTiming",label:"Closing Timing",name:"closingTiming",value:e.seller.closingTiming})]}),Object(n.jsxs)("div",{className:ot.a.LeftAlign,children:[Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"45%",height:"30px",type:"text",tagName:"userName",label:"User Name",name:"user name",value:e.seller.userName}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"45%",height:"30px",type:"text",tagName:"userPhone",label:"User Phone",name:"user phone",value:e.seller.userPhone})]}),Object(n.jsxs)("div",{className:ot.a.LeftAlign,children:[Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"45%",height:"30px",type:"text",tagName:"phoneNumber2",label:"Phone Number 2",name:"Phone Number 2",value:e.seller.phoneNumber2}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"45%",height:"30px",type:"text",tagName:"commission",label:"commission",name:"commission",value:e.seller.commission})]}),Object(n.jsxs)("div",{className:ot.a.LeftAlign,children:[Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"45%",height:"30px",type:"text",tagName:"landlineNumber",label:"Landline Number",name:"Landline Number",value:e.seller.landlineNumber}),Object(n.jsx)(te,{inputChange:e.inputChangeHandler,width:"45%",height:"30px",type:"text",tagName:"invoiceNumber",label:"Invoice Number",name:"Invoice Number",value:e.seller.invoiceNumber})]}),Object(n.jsxs)("div",{children:[0===e.seller.categories.length?Object(n.jsx)("div",{className:ot.a.Bold,children:"Categories"}):e.seller.categories.map((function(t,a){return function(t,a){return 0===a?Object(n.jsx)(te,{width:"20%",margin:"7px",height:"30px",name:"cat"+a,type:"text",label:"categories",moveCategoryHandler:function(t){e.moveCategoryHandler(a,t)},deleteCategoryHandler:function(){e.deleteCategoryHandler(a)},value:t}):Object(n.jsx)(te,{width:"20%",margin:"7px",height:"30px",name:"cat"+a,type:"text",moveCategoryHandler:function(t){e.moveCategoryHandler(a,t)},deleteCategoryHandler:function(){e.deleteCategoryHandler(a)},value:t})}(t,a)})),e.addcat?Object(n.jsx)(k,{width:"100px",dropChange:e.addCat,display:"inline-block",values:e.allCategories}):Object(n.jsx)("div",{className:ot.a.add,onClick:function(){e.showAddCat()},children:Object(n.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("line",{x1:"13",x2:"13",y2:"25",stroke:"#085076"}),Object(n.jsx)("line",{y1:"12",x2:"25",y2:"12",stroke:"#085076"})]})})]}),Object(n.jsxs)("div",{className:ot.a.buttonCont,children:[e.newSeller?null:Object(n.jsx)("button",{onClick:e.showDeleteSellerHandler,children:"Delete Seller"}),Object(n.jsx)("button",{onClick:e.sellerSaveChange,children:"Save Changes"})]})]});return Object(n.jsx)(s.Fragment,{children:null===e.seller.merchantId?null:t})},ut=function(e){Object(x.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).addImgHandler=function(){n.setState({addImg:!0})},n.uploadImgHandler=function(e){var t=ie.storage.ref(),a=new Date+"-"+e.name,s={contentType:e.type};t.child("data/user/0/com.vendor_app_shopping/cache"+a).put(e,s).then((function(e){return e.ref.getDownloadURL().then((function(e){var t=e,a=Object(p.a)(Object(p.a)({},n.state.seller),{},{bannerImage:t});n.setState({seller:a,addImg:!1})}))}))},n.SellerChangeHandler=function(e){n.setState({seller:n.state.sellers[e],activeSeller:e,addCat:!1})},n.SearchHandler=function(e){n.setState({search:e.target.value})},n.inputChangeHandler=function(e,t){var a=Object(p.a)(Object(p.a)({},n.state.seller),{},{categories:Object(g.a)(n.state.seller.categories)});a[t]=e.target.value,("userPhone"===t||"phoneNumber2"===t)&&a[t].length<3&&(a[t]="+91"),n.setState({seller:a})},n.sellerSaveChange=function(){var e=Object(p.a)({},n.state.seller);e.userPhone="+91"===e.userPhone.trim()?"":e.userPhone,e.phoneNumber2="+91"===e.phoneNumber2.trim()?"":e.phoneNumber2,ie.db.collection("merchant").doc(n.state.seller.merchantId).set(Object(p.a)({},e)).then((function(){n.getSellers()}))},n.sellerSaveNew=function(){var e=Object(p.a)({},n.state.seller);e.userPhone="+91"===e.userPhone.trim()?"":e.userPhone,e.phoneNumber2="+91"===e.phoneNumber2.trim()?"":e.phoneNumber2,ie.db.collection("merchant").add(Object(p.a)({},e)).then((function(e){n.getSellers(),n.setState({activeAdd:!1})}))},n.newSellerHandler=function(){n.setState({activeAdd:!0,seller:{address:"",bannerImage:null,categories:[],cgst:0,closingTiming:"",openingTiming:"",igst:0,invoiceNumber:0,landlineNumber:0,onlinePaymentCharge:0,shippingCharge:0,storeName:"",userName:"",userPhone:"+91",commission:0,totalDueCommission:0,phoneNumber2:"+91",dailyCommissionList:{}},activeSeller:null})},n.deleteCategoryHandler=function(e){var t=Object(p.a)({},n.state.seller),a=Object(g.a)(t.categories);a.splice(e,1),t.categories=a,n.setState({seller:t})},n.moveCategoryHandler=function(e,t){var a=Object(p.a)({},n.state.seller),s=Object(g.a)(a.categories),r=s[e];"front"===t&&e!==s.length-1?(s[e]=s[e+1],s[e+1]=r):0!==e&&(s[e]=s[e-1],s[e-1]=r),a.categories=s,n.setState({seller:a})},n.getProducts=function(){var e={},t={};ie.db.collection("products").get().then((function(a){a.forEach((function(a){var n=Object(p.a)(Object(p.a)({},a.data()),{},{productId:a.id});n.product||(e[n.merchantId]?(e[n.merchantId]+=1,t[n.merchantId].push(n.productId)):(e[n.merchantId]=1,t[n.merchantId]=[n.productId]))})),n.setState({products:e,productIds:t}),n.getOrders()}))},n.getOrders=function(){var e={};ie.db.collection("orders").get().then((function(t){t.forEach((function(t){var a=Object(p.a)({},t.data());e[a.merchantId]?e[a.merchantId]+=1:e[a.merchantId]=1})),n.setState({orders:e}),console.log(e)}))},n.getSellers=function(){var e=[];ie.db.collection("merchant").get().then((function(t){t.forEach((function(t){var a=Object(p.a)(Object(p.a)({},t.data()),{},{merchantId:t.id});e.push(a)})),n.setState({sellers:e}),n.getProducts()}))},n.productDelete=function(e){n.state.savedItems&&n.state.savedItems.forEach((function(t){t.productId===e&&ie.db.collection("savedItems").doc(t.itemId).delete()})),n.state.shoppingBag&&n.state.shoppingBag.forEach((function(t){t.productId===e&&ie.db.collection("shoppingBag").doc(t.itemId).delete()})),ie.db.collection("products").doc(e).delete().then((function(){}))},n.deleteSellerHandler=function(){n.state.productIds[n.state.seller.merchantId]&&n.state.productIds[n.state.seller.merchantId].forEach((function(e){n.productDelete(e)})),ie.db.collection("merchant").doc(n.state.seller.merchantId).delete().then((function(){n.setState({seller:{address:null,bannerImage:null,categories:[],cgst:null,closingTiming:null,openingTiming:null,igst:null,invoiceNumber:null,landlineNumber:null,merchantId:null,onlinePaymentCharge:null,shippingCharge:null,storeName:null,userName:null,userPhone:"+91",commission:0,phoneNumber2:"+91"},showDeleteSeller:!1,activeSeller:null}),n.getSellers()}))},n.showDeleteSellerHandler=function(){n.setState({showDeleteSeller:!n.state.showDeleteSeller})},n.showAddCat=function(){n.setState({addCat:!0})},n.addCat=function(e){var t=[].concat(Object(g.a)(n.state.seller.categories),[e]),a=Object(p.a)(Object(p.a)({},n.state.seller),{},{categories:t});n.setState({seller:a,addCat:!1})},n.CloseModal=function(){!0===n.state.addImg?n.setState({addImg:!1}):n.setState({activeAdd:!1})},n.state={sellers:null,allCategories:null,seller:{address:null,bannerImage:null,categories:[],cgst:null,closingTiming:null,openingTiming:null,igst:null,invoiceNumber:null,landlineNumber:null,merchantId:null,onlinePaymentCharge:null,shippingCharge:null,storeName:null,userName:null,userPhone:"+91",commission:0,phoneNumber2:"+91"},activeSeller:null,products:null,orders:null,activeAdd:!1,search:"",addCat:!1,addImg:!1,showDeleteSeller:!1},n.getSellers(),ie.db.collection("other").doc("categories").get().then((function(e){var t=["none"];e.data().categories.forEach((function(e){e.subCat&&(t=[].concat(Object(g.a)(t),Object(g.a)(e.subCat))),t.push(e.name)}));for(var a=[],s=0;s<t.length;s++)a.push({name:t[s],value:t[s]});n.setState({allCategories:a})})),ie.db.collection("savedItems").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(p.a)(Object(p.a)({},e.data()),{},{itemId:e.id}))})),n.setState({savedItems:t})})),ie.db.collection("shoppingBag").get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(p.a)(Object(p.a)({},e.data()),{},{itemId:e.id}))})),n.setState({shoppingBag:t})})),n}return Object(v.a)(a,[{key:"render",value:function(){return Object(n.jsx)(s.Fragment,{children:null===this.state.orders?null:Object(n.jsxs)("div",{className:Qe.a.Seller,children:[Object(n.jsx)(it,{list:this.state.sellers,products:this.state.products,orders:this.state.orders,sellerChangeHandler:this.SellerChangeHandler,searchString:this.state.search,SearchHandler:this.SearchHandler,activeSeller:this.state.activeSeller,newSellerHandler:this.newSellerHandler}),Object(n.jsx)(G,{children:this.state.activeAdd?null:Object(n.jsx)(dt,{addImgHandler:this.addImgHandler,moveCategoryHandler:this.moveCategoryHandler,deleteCategoryHandler:this.deleteCategoryHandler,seller:this.state.seller,showDeleteSellerHandler:this.showDeleteSellerHandler,showAddCat:this.showAddCat,addCat:this.addCat,addcat:this.state.addCat,allCategories:this.state.allCategories,inputChangeHandler:this.inputChangeHandler,sellerSaveChange:this.sellerSaveChange})}),this.state.activeAdd?Object(n.jsx)(de,{CloseModal:this.CloseModal,children:Object(n.jsx)(dt,{addImgHandler:this.addImgHandler,moveCategoryHandler:this.moveCategoryHandler,deleteCategoryHandler:this.deleteCategoryHandler,seller:this.state.seller,newSeller:!0,showAddCat:this.showAddCat,addCat:this.addCat,addcat:this.state.addCat,allCategories:this.state.allCategories,inputChangeHandler:this.inputChangeHandler,sellerSaveChange:this.sellerSaveNew})}):null,this.state.addImg?Object(n.jsx)(de,{CloseModal:this.CloseModal,children:Object(n.jsx)(me,{uploadImgHandler:this.uploadImgHandler})}):null,this.state.showDeleteSeller?Object(n.jsx)(ge,{proceed:this.deleteSellerHandler,cancel:this.showDeleteSellerHandler,message:"delete ".concat(this.state.seller.storeName)}):null]})})}}]),a}(s.Component),ht=a(72),mt=a.n(ht),jt=a(49),bt=a.n(jt),gt=a(73),pt=a.n(gt),Ot=function(){return Object(n.jsxs)("ul",{className:pt.a.PaymentSubHead,children:[Object(n.jsx)("li",{children:"Banner"}),Object(n.jsx)("li",{children:"Store Name"}),Object(n.jsx)("li",{children:"Comission Rate"}),Object(n.jsx)("li",{children:"Total Due"}),Object(n.jsx)("li",{children:"Payment today"}),Object(n.jsx)("li",{children:"Last Paid"})]})},vt=a(74),xt=a.n(vt),ft=function(e){var t={backgroundColor:e.active?"#EFF3F6":null};return Object(n.jsxs)("ul",{onClick:e.clicked,style:t,className:xt.a.PaymentListElement,children:[Object(n.jsxs)("li",{children:[Object(n.jsx)(M,{addImgHandler:function(){return null},imgUrl:e.img})," "]}),Object(n.jsx)("li",{children:e.storeName}),Object(n.jsx)("li",{children:e.commission}),Object(n.jsx)("li",{children:e.totalDue}),Object(n.jsx)("li",{children:e.payToday}),Object(n.jsx)("li",{children:e.orders})]})};var Ct=function(e){return Object(n.jsxs)("div",{className:bt.a.PaymentBar,children:[Object(n.jsx)(A,{head:"Payments",searchHandler:e.SearchHandler,searchString:e.searchString,placeholder:"Search Store Name"}),Object(n.jsx)(Ot,{}),Object(n.jsx)("div",{className:bt.a.list,children:e.list.map((function(t,a){var s=new Date,r=0;return s.setDate(s.getDate()-7),s.setHours(0,0,0,0),t.dailyCommissionList[s]&&(r=t.dailyCommissionList[s].commissionAmt),t.storeName.includes(e.searchString)?Object(n.jsx)(ft,{img:t.bannerImage,payToday:r,storeName:t.storeName,commission:t.commission,totalDue:t.totalDueCommission,clicked:function(){return e.sellerChangeHandler(a)},active:e.activeSeller===a}):null}))})]})},St=a(14),yt=a.n(St),_t=function(e){var t=new Date,a=0;return t.setDate(t.getDate()-7),t.setHours(0,0,0,0),e.seller.dailyCommissionList[t]&&(a=e.seller.dailyCommissionList[t].commissionAmt),Object(n.jsxs)("div",{className:yt.a.PaymentDetails,children:[Object(n.jsx)("h1",{children:"Payment Details"}),Object(n.jsxs)("div",{className:yt.a.Info,children:[Object(n.jsx)(M,{addImgHandler:function(){return null},imgUrl:e.seller.bannerImage}),Object(n.jsxs)("div",{className:yt.a.InfoList,children:[Object(n.jsxs)("div",{children:["Merchant Name: ",e.seller.storeName]}),Object(n.jsxs)("div",{children:["Total due: ",e.seller.totalDueCommission]}),Object(n.jsxs)("div",{className:yt.a.Red,children:["Previous Due: ",e.seller.totalDueCommission-a]})]})]}),e.orders[e.seller.merchantId]&&e.orders[e.seller.merchantId][t]?Object(n.jsxs)("div",{className:yt.a.Today,children:[Object(n.jsxs)("h1",{children:[t.getDate()+" - "+t.getMonth()+" - "+t.getFullYear()," 's Breakdown"]}),Object(n.jsxs)("ul",{className:yt.a.SubHead,children:[Object(n.jsx)("li",{children:"Order Id"}),Object(n.jsx)("li",{children:"Status"}),Object(n.jsx)("li",{children:"Amount"}),Object(n.jsx)("li",{children:"Commission"})]}),Object(n.jsx)("ul",{className:yt.a.AllOrders,children:e.orders[e.seller.merchantId][t].map((function(t){return Object(n.jsx)("li",{children:Object(n.jsxs)("ul",{style:{color:"return"===t.status||"cancel"===t.status?"red":null},className:yt.a.Order,children:[Object(n.jsx)("li",{children:t.orderId}),Object(n.jsx)("li",{children:t.status}),Object(n.jsxs)("li",{children:["\u20b9 ",t.totalAmount]}),Object(n.jsxs)("li",{children:["\u20b9 ","return"===t.status||"cancel"===t.status?0:t.totalAmount*(e.seller.commission/100)]})]})})}))}),Object(n.jsxs)("div",{className:yt.a.TotalToday,children:["Total Commission: \u20b9 ",a]})]}):Object(n.jsxs)("h1",{style:{textAlign:"center"},children:["No Orders On ",t.getDate()+" - "+t.getMonth()+" - "+t.getFullYear()]}),Object(n.jsxs)("div",{className:yt.a.NewPayment,children:[Object(n.jsx)("h1",{children:"New Payment"}),Object(n.jsxs)("div",{className:yt.a.NewPay,children:[Object(n.jsx)(te,{inputChange:e.inputHandler,width:"20%",height:"30px",type:"text",tagName:"amount",label:"Amount",name:"Amount",value:e.input.amount}),Object(n.jsx)(te,{inputChange:e.inputHandler,width:"40%",height:"30px",type:"text",tagName:"refId",label:"Reference",name:"Reference",value:e.input.refId}),Object(n.jsx)("button",{onClick:function(t){e.updatePayment(t)},children:"Pay"})]}),Object(n.jsx)("h1",{children:"Previous Payments"}),e.payments[e.seller.merchantId]?Object(n.jsxs)("ul",{className:yt.a.PrevSub,children:[Object(n.jsx)("li",{children:"Reference Id"}),Object(n.jsx)("li",{children:"Date"}),Object(n.jsx)("li",{children:"Amount"})]}):null,Object(n.jsx)("ul",{className:yt.a.PayList,children:e.payments[e.seller.merchantId]?e.payments[e.seller.merchantId].map((function(e){return Object(n.jsx)("li",{children:Object(n.jsxs)("ul",{className:yt.a.Pay,children:[Object(n.jsx)("li",{children:e.referenceId}),Object(n.jsx)("li",{children:e.paymentDate.getDate()+" - "+e.paymentDate.getMonth()+" - "+e.paymentDate.getFullYear()}),Object(n.jsxs)("li",{children:["\u20b9 ",e.amount]})]})})})):Object(n.jsx)("h3",{style:{textAlign:"center"},children:"No Payments Yet"})})]})]})},It=function(e){Object(x.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).SellerChangeHandler=function(e){n.setState({seller:n.state.sellers[e],activeSeller:e})},n.SearchHandler=function(e){n.setState({search:e.target.value})},n.updateSeller=function(e,t,a){console.log(a),ie.db.collection("merchant").doc(e).set({totalDueCommission:t,lastCalcCommission:ie.timeStamp.fromDate(new Date),dailyCommissionList:a},{merge:!0}).then((function(){n.getOrders(!1),n.getSellers(!1)}))},n.updatePayment=function(e){e.preventDefault(),ie.db.collection("merchant").doc(n.state.seller.merchantId).set({totalDueCommission:n.state.seller.totalDueCommission-n.state.input.amount},{merge:!0}).then((function(){ie.db.collection("payments").add({amount:n.state.input.amount,merchantId:n.state.seller.merchantId,paymentDate:ie.timeStamp.fromDate(new Date),referenceId:n.state.input.refId}).then((function(){n.setState({input:{amount:0,refId:""}}),n.getPayment(),n.getOrders(!1),n.getSellers(!1)}))}))},n.getPayment=function(){var e={};ie.db.collection("payments").get().then((function(t){t.forEach((function(t){var a=Object(p.a)({},t.data());a.paymentDate=a.paymentDate.toDate(),a.merchantId&&null!==a.merchantId&&(e[a.merchantId]||(e[a.merchantId]=[]),e[a.merchantId].push(a))})),n.setState({payments:e}),console.log(e)}))},n.calculateDue=function(){n.state.sellers&&function(){for(var e=Object(g.a)(n.state.sellers),t=function(t){var a=e[t].merchantId,s=e[t].totalDueCommission,r=[];n.state.orders[a]&&(r=Object.keys(n.state.orders[a]));var l={};e[t].dailyCommissionList&&(l=e[t].dailyCommissionList);var i=new Date;i.setDate(i.getDate()-7),e[t].lastCalcCommission?r.forEach((function(r){var c=e[t].lastCalcCommission.toDate();if(c.setDate(c.getDate()-7),new Date(r)>c&&new Date(r)<=i){var o=0;n.state.orders[a][r].forEach((function(a){if("cancel"!==a.status&&"return"!==a.status){var n=a.totalAmount*(e[t].commission/100);o+=n}})),s+=o,l[r]={commissionAmt:o,commission:e[t].commission}}})):r.forEach((function(r){if(new Date(r)<=i){var c=0;n.state.orders[a][r].forEach((function(a){if("cancel"!==a.status&&"return"!==a.status){var n=a.totalAmount*(e[t].commission/100);c+=n}})),s+=c,l[r]={commissionAmt:c,commission:e[t].commission}}})),n.updateSeller(a,s,l)},a=0;a<e.length;a++)t(a)}()},n.getOrders=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};ie.db.collection("orders").get().then((function(a){a.forEach((function(e){var a=Object(p.a)({},e.data()),n=a.createdAt.toDate();n.setHours(0,0,0,0),a.createdAt=n,a.merchantId&&null!==a.merchantId&&(t[a.merchantId]||(t[a.merchantId]={}),t[a.merchantId][a.createdAt]||(t[a.merchantId][a.createdAt]=[]),t[a.merchantId][a.createdAt].push({orderId:e.id,totalAmount:a.totalAmount,status:a.status}))})),n.setState({orders:t}),n.getPayment(),e&&n.calculateDue()}))},n.getSellers=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=[];ie.db.collection("merchant").get().then((function(a){a.forEach((function(e){var a=Object(p.a)(Object(p.a)({},e.data()),{},{merchantId:e.id});t.push(a)})),n.setState({sellers:t}),e&&n.getOrders()}))},n.inputHandler=function(e,t){var a=Object(p.a)({},n.state.input);a[t]=e.target.value,n.setState({input:a})},n.CloseModal=function(){!0===n.state.addImg?n.setState({addImg:!1}):n.setState({activeAdd:!1})},n.state={sellers:null,seller:{address:null,bannerImage:null,categories:[],cgst:null,closingTiming:null,openingTiming:null,igst:null,invoiceNumber:null,landlineNumber:null,merchantId:null,onlinePaymentCharge:null,shippingCharge:null,storeName:null,userName:null,userPhone:null,commission:0,phoneNumber2:""},input:{refId:"",amount:0},activeSeller:null,orders:null,search:""},n.getSellers(),n}return Object(v.a)(a,[{key:"render",value:function(){return Object(n.jsx)(s.Fragment,{children:null===this.state.sellers?null:Object(n.jsxs)("div",{className:mt.a.Payment,children:[Object(n.jsx)(Ct,{list:this.state.sellers,orders:this.state.orders,sellerChangeHandler:this.SellerChangeHandler,searchString:this.state.search,SearchHandler:this.SearchHandler,activeSeller:this.state.activeSeller}),Object(n.jsx)(G,{children:this.state.seller.merchantId?Object(n.jsx)(_t,{inputHandler:this.inputHandler,updatePayment:this.updatePayment,input:this.state.input,seller:this.state.seller,payments:this.state.payments,orders:this.state.orders}):null})]})})}}]),a}(s.Component),Nt=a(75),Ht=a.n(Nt),Pt=a(50),Dt=a.n(Pt),wt=function(e){return Object(n.jsxs)("div",{className:Dt.a.ExtraDiv,children:[Object(n.jsx)("h1",{children:e.name}),Object(n.jsxs)("div",{className:Dt.a.List,children:[e.values.map((function(t,a){return Object(n.jsx)(te,{inputChange:function(t,a){e.inputHandler(t,a,e.name)},width:"50%",height:"30px",type:"text",tagName:a,value:t})})),Object(n.jsx)(te,{inputChange:e.addInputHandler,width:"50%",height:"30px",type:"text",tagName:e.name,value:e.add[e.name]}),Object(n.jsx)("button",{onClick:function(){e.updateList(e.name)},children:"Update"})]})]})},Lt=function(e){Object(x.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).getAllExtras=function(){Object.keys(n.state.extras).forEach((function(e){n.getExt(e)}))},n.getExt=function(e){ie.db.collection("other").doc(e).get().then((function(t){var a=Object(p.a)({},n.state.extras);a[e]=t.data()[e],n.setState({extras:a})}))},n.listChangeHandler=function(e,t,a){var s=Object(p.a)({},n.state.extras),r=Object(g.a)(s[a]);r[t]=e.target.value,s[a]=r,n.setState({extras:s})},n.addChangeHandler=function(e,t){var a=Object(p.a)({},n.state.add);a[t]=e.target.value,n.setState({add:a})},n.updateList=function(e){var t=Object(p.a)({},n.state.extras),a=Object(g.a)(t[e]);""!==n.state.add[e]&&a.push(n.state.add[e]);var s={};s[e]=a,ie.db.collection("other").doc(e).set(s).then((function(){n.getExt(e);var t=Object(p.a)({},n.state.add);t[e]="",n.setState({add:t})}))},n.state={extras:{brands:null,color:null,fabrics:null,heel:null,neckline:null,occasion:null,pattern:null,rise:null,size:null,sizeDefault:null,sizeFootwear:null,sleeves:null,sole:null,style:null,work:null},add:{brands:"",color:"",fabrics:"",heel:"",neckline:"",occasion:"",pattern:"",rise:"",size:"",sizeDefault:"",sizeFootwear:"",sleeves:"",sole:"",style:"",work:""}},n.getAllExtras(),n}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:Ht.a.Extras,children:Object.keys(this.state.extras).map((function(t){return null===e.state.extras[t]?null:Object(n.jsx)(wt,{updateList:e.updateList,name:t,add:e.state.add,addInputHandler:e.addChangeHandler,inputHandler:e.listChangeHandler,values:e.state.extras[t]})}))})}}]),a}(s.Component);var kt=function(){return localStorage.getItem("nearstToken")?Object(n.jsxs)("div",{className:u.a.App,children:[Object(n.jsx)(b,{}),Object(n.jsx)(o.a,{path:"/",exact:!0,component:pe}),Object(n.jsx)(o.a,{path:"/extras",component:Lt}),Object(n.jsx)(o.a,{path:"/products",component:pe}),Object(n.jsx)(o.a,{path:"/orders",component:Be}),Object(n.jsx)(o.a,{path:"/customers",component:Ge}),Object(n.jsx)(o.a,{path:"/seller",component:ut}),Object(n.jsx)(o.a,{path:"/payment",component:It})]}):null},At=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,92)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),s(e),r(e),l(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(c.a,{children:Object(n.jsx)(kt,{})})}),document.getElementById("root")),At()}],[[91,1,2]]]);
//# sourceMappingURL=main.35b983ee.chunk.js.map